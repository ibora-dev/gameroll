<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TP â€” Niveau & Puissance Sonore</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="wrap">
    <header class="header">
      <h1>TP ğŸ”Š Niveau sonore & puissance</h1>
      <p class="subtitle">
        Manipulation interactive : <b>P</b> â†’ <b>I</b> â†’ <b>L</b> (dB) + graphique ğŸ“ˆ
      </p>
    </header>

    <section class="card">
      <h2>1) Rappels (modÃ¨le simplifiÃ©)</h2>

      <div class="formula">
        <div><b>IntensitÃ©</b> Ã  distance <b>r</b> dâ€™une source isotrope :</div>
        <div class="eq">I = P / (4Ï€rÂ²)</div>
      </div>

      <div class="formula">
        <div><b>Niveau sonore</b> (en dB) :</div>
        <div class="eq">L = 10 Â· logâ‚â‚€(I / Iâ‚€)</div>
        <div class="note">avec Iâ‚€ = 10â»Â¹Â² W/mÂ² (seuil dâ€™audition)</div>
      </div>

      <p class="warn">
        âš ï¸ ModÃ¨le idÃ©al (source isotrope, pas de rÃ©flexion, pas dâ€™absorption de lâ€™air).
      </p>
    </section>

    <section class="grid">
      <section class="card">
        <h2>2) Manipulation</h2>

        <div class="controls">
          <label>
            Puissance sonore P (W)
            <input id="pSlider" type="range" min="-8" max="2" step="0.01" value="-2">
            <div class="mini">
              P = <span id="pValue"></span> W
              <span class="hint">(Ã©chelle log : 10^x)</span>
            </div>
          </label>

          <label>
            Distance r (m)
            <input id="rSlider" type="range" min="0.2" max="50" step="0.1" value="2">
            <div class="mini">r = <span id="rValue"></span> m</div>
          </label>
        </div>

        <div class="results">
          <div class="res">
            <div class="k">IntensitÃ© I</div>
            <div class="v"><span id="iValue"></span> W/mÂ²</div>
          </div>
          <div class="res">
            <div class="k">Niveau L</div>
            <div class="v"><span id="lValue"></span> dB</div>
          </div>
        </div>

        <div class="pillrow">
          <span id="labelSafety" class="pill">â€¦</span>
          <span id="labelRef" class="pill ghost">RÃ¨gle : +10 dB â‰ˆ Ã—10 intensitÃ©</span>
        </div>
      </section>

      <section class="card">
        <h2>3) Graphique</h2>

        <div class="tabs">
          <button class="tab active" data-mode="distance">L en fonction de r</button>
          <button class="tab" data-mode="power">L en fonction de P</button>
        </div>

        <canvas id="chart" width="760" height="420"></canvas>

        <p class="small">
          Astuce : regarde lâ€™effet de <b>doubler r</b> ğŸ‘‰ le niveau baisse (â‰ˆ âˆ’6 dB en champ libre).
        </p>
      </section>
    </section>

    <footer class="footer">
      <p>âœ… Site prÃªt pour GitHub Pages â€” modifiable Ã  volontÃ©.</p>
    </footer>
  </main>

  <script src="script.js"></script>
</body>
</html>
